{"version":3,"sources":["firebaseconfig.js","apis/streams.js","history.js","actions/index.js","actions/types.js","components/streams/StreamForm.js","components/streams/StreamCreate.js","components/Modal.js","components/streams/StreamDelete.js","components/streams/StreamEdit.js","components/streams/StreamList.js","components/streams/StreamShow.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","database","axios","create","baseURL","createHistory","fetchStream","id","_ref3","Object","asyncToGenerator","regenerator_default","a","mark","_callee3","dispatch","response","wrap","_context3","prev","next","streams","get","concat","sent","type","payload","data","stop","this","_x4","apply","arguments","StreamForm","renderInput","_ref","input","label","meta","console","log","className","error","touched","react_default","createElement","assign","autoComplete","_this","renderError","onSubmit","formValues","props","_ref2","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","streams_StreamForm","connect","_callee","getState","userId","_context","auth","post","objectSpread","history","push","_x","_x2","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","match","params","Fragment","deleteStream","Link","to","stream","components_Modal","renderContent","renderActions","state","ownProps","_ref5","_callee5","_context5","delete","_x6","StreamEdit","editStream","initialValues","_","pick","_ref4","_callee4","_context4","patch","_x5","StreamList","fetchStreams","currentUserId","map","key","renderAdmin","isSignedIn","style","textAlign","renderList","renderCreate","values","_callee2","_context2","_x3","StreamShow","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","videoRef","createRef","buildPlayer","player","destroy","flv","createPlayer","url","attachMediaElement","current","load","ref","width","controls","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignInClick","onSignOutClick","_this2","window","gapi","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","Header","components_GoogleAuth","App","Router","components_Header","Switch","Route","path","exact","INITIAL_STATE","combineReducers","length","undefined","action","formReducer","mapKeys","defineProperty","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render","es","components_App"],"mappings":"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","file":"static/js/main.c6845d96.chunk.js","sourcesContent":["import firebase from 'firebase';\n\nvar config = {\n  apiKey: \"AIzaSyAvY0feLJPPeUKaEB5nxl9AQnQ7nR-sItc\",\n  authDomain: \"twitchclone-229520.firebaseapp.com\",\n  databaseURL: \"https://twitchclone-229520.firebaseio.com\",\n  projectId: \"twitchclone-229520\",\n  storageBucket: \"twitchclone-229520.appspot.com\",\n  messagingSenderId: \"732169580730\"\n};\n\nfirebase.initializeApp(config);\n\nexport const database = firebase.database();\n","import axios from 'axios';\n\nexport default axios.create({\n  baseURL: 'http://localhost:3001'\n})","//Bespoke history object created for me to maintain rather than react router's history object\n\nimport createHistory from 'history/createBrowserHistory';\n\nexport default createHistory();","import firebase from 'firebase';\nimport database from \"../firebaseconfig.js\";\nimport streams from '../apis/streams';\nimport history from '../history'\nimport {\n    SIGN_IN, \n    SIGN_OUT, \n    CREATE_STREAM,\n    FETCH_STREAMS,\n    FETCH_STREAM,\n    DELETE_STREAM,\n    EDIT_STREAM\n  } from './types'\n\nexport const signIn = (userId) => {\n  return {\n    type: SIGN_IN,\n    payload: userId\n  }\n}\n\nexport const signOut = () => {\n  return {\n    type: SIGN_OUT\n  }\n}\n\nexport const createStream = (formValues) => {\n  return async (dispatch, getState) => {\n  const {userId} = getState().auth;\n   const response = await streams.post('/streams', {...formValues, userId});\n\n   dispatch({type: CREATE_STREAM, payload: response.data})\n\n   //Navigation to get user back to streams list\n   history.push('/');\n\n  }\n}\n\nexport const fetchStreams = () => async dispatch => {\n  const response = await streams.get('streams');\n  dispatch({type: FETCH_STREAMS, payload: response.data});\n}\nexport const fetchStream = (id) =>\nasync dispatch => {\n  const response = await streams.get(`/streams/${id}`)\n\n  dispatch({ type: FETCH_STREAM, payload: response.data})\n}\n\nexport const editStream = (id, formValues) => async dispatch => {\n  const response = await streams.patch(`/streams/${id}`, formValues)\n  \n  dispatch({type: EDIT_STREAM, payload: response.data});\n  history.push('/');\n}\n\nexport const deleteStream = (id) => async dispatch => {\n  await streams.delete(`/streams/${id}`)\n\n  dispatch({type: DELETE_STREAM, payload: id})\n  history.push('/');\n}\n","export const SIGN_IN = 'SIGN_IN';\nexport const SIGN_OUT = 'SIGN_OUT';\nexport const CREATE_STREAM = 'CREATE_STREAM';\nexport const FETCH_STREAMS = 'FETCH_STREAMS';\nexport const FETCH_STREAM = 'FETCH_STREAM';\nexport const DELETE_STREAM = 'DELETE_STREAM';\nexport const EDIT_STREAM = 'EDIT_STREAM';\n","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\n\n\nclass StreamForm extends React.Component {\n  renderError({ error, touched }) {\n    if (touched && error) {\n      return (\n        <div className=\"ui error message\">\n          <div className=\"header\">{error}</div>\n        </div>\n      );\n    }\n  }\n\n  renderInput = ({ input, label, meta }) => {\n    console.log(meta);\n    const className = `field ${meta.error && meta.touched ? 'error' : ''}`\n    return (\n      <div className={className}>\n        <label>{label}</label>\n        <input {...input} autoComplete=\"off\" />\n        {this.renderError(meta)}\n      </div>\n    );\n  }\n\n  onSubmit = (formValues) => {\n    this.props.onSubmit(formValues)\n  }\n\n  render() {\n    return <form onSubmit={this.props.handleSubmit(this.onSubmit)} className=\"ui form error\">\n      <Field name=\"title\" component={this.renderInput} label=\"Enter Title\" />\n      <Field name=\"description\" component={this.renderInput} label=\"Enter Description\" />\n      <button className=\"ui button primary\">Submit</button>\n    </form>;\n  }\n}\nconst validate = (formValues) => {\n  const errors = {};\n\n  if (!formValues.title) {\n    errors.title = \"You must enter a title\";\n  }\n\n  if (!formValues.description) {\n    errors.description = \"You must enter a description\";\n  }\n\n  return errors;\n};\n\nexport default reduxForm({\n  form: 'Stream Form',\n  validate\n})(StreamForm);\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { createStream } from '../../actions'\nimport StreamForm from './StreamForm';\n\nclass StreamCreate extends React.Component {\n  onSubmit = (formValues) => {\n    this.props.createStream(formValues);\n  }\n\n  render(){ \n    return (\n      <div>\n        <h3>Create a Stream</h3>\n        <StreamForm onSubmit={this.onSubmit}/>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  null, \n  { createStream }\n  )(StreamCreate);","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst Modal = props => {\n  return ReactDOM.createPortal(\n    <div onClick={props.onDismiss} className=\"ui dimmer modals visible active\">\n      <div onClick={(e) => e.stopPropagation()} className=\"ui standard modal visisble active\">\n        <div className=\"header\">{props.title}</div>\n        <div className=\"content\">{props.content}</div>\n        <div className=\"actions\">\n          {props.actions}\n        </div>\n      </div>\n    </div>,\n    document.querySelector('#modal')\n  );\n};\n\nexport default Modal;","import React from 'react';\nimport {connect} from 'react-redux';\nimport {Link} from 'react-router-dom';\nimport Modal from '../Modal';\nimport history from '../../history';\nimport {fetchStream, deleteStream} from '../../actions';\n\nclass StreamDelete extends React.Component {\n  \n  componentDidMount(){\n   this.props.fetchStream(this.props.match.params.id)\n  }\n\n  renderActions(){\n    const id = this.props.match.params.id;\n    return (\n      <>\n        <button onClick={() => this.props.deleteStream(id)}className=\"ui button negative\">\n          Delete\n        </button>\n        <Link to=\"/\" className=\"ui button\">\n          Cancel\n        </Link>\n      </>\n    )\n  }\n\n  renderContent(){\n    if (!this.props.stream){\n      return 'Are you sure you want to delete this stream?'\n    }\n\n    return `Are you sure you want to delete the stream: ${this.props.stream.title}`\n  }\n\n  render() {\n    return (\n      <Modal\n          title=\"Delete Stream\"\n          content={this.renderContent()}\n          actions={this.renderActions()}\n          onDismiss={() => history.push('/')}\n        />\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps ) => {\n  return { stream: state.streams[ownProps.match.params.id] }\n}\n\nexport default connect(mapStateToProps, {fetchStream, deleteStream})(StreamDelete);","import _ from 'lodash';\nimport React from \"react\";\nimport { connect } from 'react-redux'\nimport { fetchStream, editStream } from '../../actions';\nimport StreamForm from './StreamForm';\n\nclass StreamEdit extends React.Component {\n  componentDidMount(){\n  this.props.fetchStream(this.props.match.params.id);\n  }\n\n  onSubmit = (formValues) => {\n    this.props.editStream(this.props.match.params.id, formValues);\n  }\n  \n  render() { \n    console.log(this.props)\n    if(!this.props.stream){\n      return <div>Loading...</div>\n    }\n    \n    return (\n      <div>\n        <h3>\n          Edit a Stream\n        </h3>\n          <StreamForm \n          initialValues={_.pick(this.props.stream, 'title', 'description')} \n          onSubmit={this.onSubmit} />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {stream: state.streams[ownProps.match.params.id] }\n}\nexport default connect(mapStateToProps, { fetchStream, editStream })(StreamEdit);\n","import React from \"react\";\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom'\nimport {fetchStreams} from '../../actions'\n\nclass StreamList extends React.Component {\n  componentDidMount(){\n    this.props.fetchStreams();\n  }\n\n  renderAdmin(stream){\n    if (stream.userId === this.props.currentUserId) {\n      return (\n        <div className=\"right floated content\">\n          <Link className=\"ui button primary\" to={`streams/edit/${stream.id}`}>Edit</Link>\n          <Link to={`/streams/delete/${stream.id}`} className=\"ui button negative\">\n            Delete\n          </Link>\n        </div>\n      )\n    }\n  }\n  \n  renderList(){\n    return this.props.streams.map(stream => {\n      return (\n        <div className=\"item\" key={stream.id}>\n          {this.renderAdmin(stream)}\n          <i className=\"large middle aligned icon camera\" />\n          <div className=\"content\">\n            <Link to={`/streams/${stream.id}`} className=\"header\">\n              {stream.title}\n            </Link>\n            <div className=\"description\">{stream.description}</div>\n          </div>\n        </div>\n      );\n    })\n  } \n\n  renderCreate(){\n    if (this.props.isSignedIn) {\n      return (\n        <div style={{textAlign: 'right'}}>\n          <Link to=\"/streams/new\" className=\"ui button primary\">\n            Create Stream\n          </Link>\n        </div>\n      );\n    }\n  }\n\n  render(){\n    return (\n      <div>\n        <h2>Streams</h2>\n        <div className=\"ui celled list\">{this.renderList()}</div>\n        {this.renderCreate()}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    streams: Object.values(state.streams),\n    currentUserId: state.auth.userId,\n    isSignedIn: state.auth.isSignedIn\n  }\n}\n\nexport default connect(mapStateToProps, {fetchStreams})(StreamList);","import React from \"react\";\nimport flv from 'flv.js';\nimport { connect } from 'react-redux';\nimport { fetchStream } from '../../actions';\n\nclass StreamShow extends \nReact.Component {\n  constructor(props){\n    super(props);\n    this.videoRef = React.createRef();\n  }\n  \n  componentDidMount(){\n    const {id} = this.props.match.params\n    \n    this.props.fetchStream(id);\n    this.buildPlayer();\n  }\n\n  componentDidUpdate() {\n    this.buildPlayer();\n  }\n\n  componentWillUnmount(){\n    this.player.destroy();\n  }\n\n  buildPlayer() {\n    if (this.player || !this.props.stream) {\n      return;\n    }\n\n    const { id } = this.props.match.params\n    this.player = flv.createPlayer({\n      type: 'flv',\n      url: `http://localhost:8000/live/${id}.flv`\n    })\n    this.player.attachMediaElement(this.videoRef.current);\n    this.player.load();\n  }\n\n  render(){\n    if (!this.props.stream){\n      return <div>Loading...</div>\n    }\n    return (\n      <div>\n        <video ref={this.videoRef} style={{width: '100%'}} controls={true} />\n        <h1> {this.props.stream.title}</h1>\n        <h5>          {this.props.stream.description}\n        </h5>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id]}\n}\nexport default connect(mapStateToProps, {fetchStream})(StreamShow);","import React from 'react';\nimport { connect } from 'react-redux';\nimport {signIn, signOut} from '../actions'\n\nclass GoogleAuth extends React.Component{\n  componentDidMount(){\n    window.gapi.load('client:auth2', () => {\n      window.gapi.client.init({\n        clientId:\n          \"732169580730-274cra0bjoll5abgotonl7rg9i0fd680.apps.googleusercontent.com\",\n          scope: 'email'\n      }).then(() => {\n        this.auth = window.gapi.auth2.getAuthInstance();\n        this.onAuthChange(this.auth.isSignedIn.get());\n        this.auth.isSignedIn.listen(this.onAuthChange);\n      })\n    });\n  }\n  \n  onAuthChange = (isSignedIn) => {\n    if (isSignedIn) {\n      this.props.signIn(this.auth.currentUser.get().getId());\n    } else {\n      this.props.signOut();\n    }\n  }\n\n  onSignInClick = () => {\n    this.auth.signIn();\n  }\n\n  onSignOutClick = () => {\n    this.auth.signOut();\n  }\n  \n  renderAuthButton() {\n    if (this.props.isSignedIn === null) {\n      return null;\n    } else if (this.props.isSignedIn){\n      return (\n        <button onClick={this.onSignOutClick} className=\"ui red google button\">\n          <i className=\"google icon\"/>\n          Sign Out\n        </button>\n      );\n    } else {\n      return (\n        <button onClick={this.onSignInClick} className=\"ui red google button\"><i className=\"google icon\"/>Sign In with Google</button>\n      )\n    }\n  }\n\n  render(){\n    return <div>{this.renderAuthButton()}</div>\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {isSignedIn: state.auth.isSignedIn};\n}\n\nexport default connect(mapStateToProps, {signIn, signOut})(GoogleAuth);","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport GoogleAuth from './GoogleAuth'\nconst Header = () => {\n  return (\n    <div className=\"ui secondary pointing menu\">\n      <Link to=\"/\" className=\"item\">\n        Streamer\n      </Link>\n      <div className=\"right menu\">\n        <Link to=\"/\" className=\"item\">\n         All Streams\n        </Link>\n        <GoogleAuth/>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;","import React from 'react';\nimport { Router, Route, Switch} from 'react-router-dom';\nimport StreamCreate from './streams/StreamCreate';\nimport StreamDelete from \"./streams/StreamDelete\";\nimport StreamEdit from \"./streams/StreamEdit\";\nimport StreamList from \"./streams/StreamList\";\nimport StreamShow from \"./streams/StreamShow\";\nimport Header from './Header'\nimport history from '../history';\n\n\nconst App = () => {\n  return (\n    <div className=\"ui container\">\n      <Router history={history}>\n      <div>\n        <Header />\n        <Switch>\n          <Route path=\"/\" exact component={StreamList}/>\n          <Route path=\"/streams/new\" exact component={StreamCreate} />\n          <Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\n          <Route path=\"/streams/delete/:id\" exact component={StreamDelete} />\n          <Route path=\"/streams/:id\" exact component={StreamShow} />\n        </Switch>\n      </div>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;","import {SIGN_IN, SIGN_OUT} from '../actions/types'; \n\nconst INITIAL_STATE = {\n  isSignedIn: null,\n  userId: null\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type){\n    case SIGN_IN:\n      return { ...state, isSignedIn: true, userId: action.payload };\n    case SIGN_OUT:\n      return { ...state, isSignedIn: false, userId: null}\n    default:\n      return state;\n  }\n}","import {combineReducers} from 'redux';\nimport { reducer as formReducer } from 'redux-form';\nimport authReducer from './authReducer';\nimport streamReducer from './streamReducer';\n\nexport default combineReducers({\n  auth: authReducer,\n  form: formReducer,\n  streams: streamReducer\n});","import _ from 'lodash'\nimport {\n  FETCH_STREAM,\n  FETCH_STREAMS,\n  CREATE_STREAM,\n  EDIT_STREAM,\n  DELETE_STREAM\n} from '../actions/types';\n\nexport default (state = {}, action) => {\n  switch (action.type){\n    case FETCH_STREAMS:\n      return {...state, ..._.mapKeys(action.payload, 'id')};\n    case FETCH_STREAM:\n      return {...state, [action.payload.id]: action.payload};\n    case CREATE_STREAM:\n      return {...state, [action.payload.id]: action.payload};\n    case EDIT_STREAM:\n      return {...state, [action.payload.id]: action.payload};\n    case DELETE_STREAM:\n      return _.omit(state, action.payload);\n    default: \n      return state;\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware, compose} from 'redux';\nimport reduxThunk from 'redux-thunk';\nimport App from './components/App';\nimport reducers from './reducers';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n\nReactDOM.render(\n  <Provider store={store}\n  >\n    <App />\n  </Provider>,\n  document.querySelector('#root')\n)"],"sourceRoot":""}